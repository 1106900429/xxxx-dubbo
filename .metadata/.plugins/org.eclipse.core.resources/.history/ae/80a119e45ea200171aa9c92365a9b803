<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
	xsi:schemaLocation="http://www.springframework.org/schema/beans  
        http://www.springframework.org/schema/beans/spring-beans.xsd  
        http://code.alibabatech.com/schema/dubbo  
        http://code.alibabatech.com/schema/dubbo/dubbo.xsd">

	<dubbo:application name="xxxx-web" />
	

	
	<dubbo:registry protocol="zookeeper" address="10.211.55.8:2181"/>
    <!--***********讲解启动时检查**********-->
    <!--Dubbo缺省会在启动时检查依赖的服务是否可用，不可用时会抛出异常，阻止Spring初始化完成，以便上线时，能及早发现问题，默认check="true"  -->
    <!-- 不启动service服务，直接启动web，演示报错问题 -->
    <!--  dubbo.properties可以直接配置：dubbo.reference.check=false 强制改变所有 reference 的 check 值，就算配置中有声明，也会被覆盖。 -->
    
    <!-- ********讲解集群容错*************** -->
    <!-- 在集群调用失败时，Dubbo 提供了多种容错方案，缺省为 failover 重试。 -->
    <!--Failover Cluster: 失败自动切换，当出现失败，重试其它服务器 1。通常用于读操作，但重试会带来更长延迟。可通过 retries="2" 来设置重试次数(不含第一次)。 -->
	<dubbo:reference interface="com.xxxx.repo.IEnterpriseService" id="enterpriseService" timeout="10000" check="true"  cluster="failover" retries="2"/>
	
</beans>  